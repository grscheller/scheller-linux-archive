purpose: to reimage a 2017 windows 10 pc for my daughters with a linux.
         system needs to be well configured out of the box and easy for
         my daughters, or me over the phone, to administer.

2023-10-01:
  installing popos 22.04 lts on a dell intel xeon
    - 4ht core - cpu e3-1505m v6@300ghz
    - 32 gb memory
    - intel corporation hd graphics p630 (rev 04)
    - nvidia corporation gm107glm [quadro m620 mobile] (rev a2)
    - ??? intel(r) uhd graphics
    - ??? nvidia geforce mx250 graphics

  going with pop!os 22.04 lts (nvidia)

  downloaded latest iso image to gauss17 from

    https://pop.system76.com/

  should have

    sha5: 33bc14a6499ad513fe64c0394e3af766110b75967578e47f4e4f4251d0fa6f14

  downloaded the file

    pop-os_22.04_amd64_nvidia_34.iso

  test validity,

    [grs@gauss17]
    $ sha256sum pop-os_22.04_amd64_nvidia_34.iso
    33bc14a6499ad513fe64c0394e3af766110b75967578e47f4e4f4251d0fa6f14  pop-os_22.04_amd64_nvidia_34.iso

  put usb thumb drive in:

    [grs@gauss17]
    $ lsblk
    name   maj:min rm   size ro type mountpoints
    sda      8:0    0 119.2g  0 disk
    â”œâ”€sda1   8:1    0   512m  0 part /boot
    â””â”€sda2   8:2    0 118.7g  0 part /
    sdb      8:16   0 931.5g  0 disk
    â”œâ”€sdb1   8:17   0   512m  0 part
    â”œâ”€sdb2   8:18   0  63.5g  0 part /extra
    â”œâ”€sdb3   8:19   0    16g  0 part [swap]
    â””â”€sdb4   8:20   0 851.5g  0 part /home
    sdc      8:32   1  57.6g  0 disk
    â””â”€sdc1   8:33   1  57.6g  0 part

    [grs@gauss17]
    $ lsblk -f
    name fstype fsver label uuid                                 fsavail fsuse% mountpoints
    sda
    â”œâ”€sda1
    â”‚    vfat   fat32       a024-8139                             403.1m    21% /boot
    â””â”€sda2
         ext4   1.0         0859da7c-f429-470d-818f-d3951b5d89af   50.6g    51% /
    sdb
    â”œâ”€sdb1
    â”‚    vfat   fat32       bc00-6365
    â”œâ”€sdb2
    â”‚    ext4   1.0         4b1b0623-c1d0-4da9-8164-20ee74253def   47.1g    19% /extra
    â”œâ”€sdb3
    â”‚    swap   1           a5945738-343f-4cfb-ad76-8ca012eb2576                [swap]
    â””â”€sdb4
         ext4   1.0         833c2579-bc84-463a-96a4-89478bd89e9e  711.6g    10% /home
    sdc
    â””â”€sdc1
         vfat   fat32       8f38-b2aa

  now "burn" the image,

    [grs@gauss17]
    $ sudo dd bs=4m if=pop-os_22.04_amd64_nvidia_34.iso of=/dev/sdc conv=fdatasync
    724+0 records in
    724+0 records out
    3036676096 bytes (3.0 gb, 2.8 gib) copied, 57.8096 s, 52.5 mb/s

  let's see what we got

    [grs@gauss17]
    $ lsblk
    name   maj:min rm   size ro type mountpoints
    sda      8:0    0 119.2g  0 disk
    â”œâ”€sda1   8:1    0   512m  0 part /boot
    â””â”€sda2   8:2    0 118.7g  0 part /
    sdb      8:16   0 931.5g  0 disk
    â”œâ”€sdb1   8:17   0   512m  0 part
    â”œâ”€sdb2   8:18   0  63.5g  0 part /extra
    â”œâ”€sdb3   8:19   0    16g  0 part [swap]
    â””â”€sdb4   8:20   0 851.5g  0 part /home
    sdc      8:32   1  57.6g  0 disk
    â”œâ”€sdc1   8:33   1   2.8g  0 part
    â””â”€sdc2   8:34   1     4m  0 part

    [grs@gauss17]
    $ lsblk -f
    name fstype fsver label                     uuid                                 fsavail fsuse% mountpoints
    sda
    â”œâ”€sda1
    â”‚    vfat   fat32                           a024-8139                             403.1m    21% /boot
    â””â”€sda2
         ext4   1.0                             0859da7c-f429-470d-818f-d3951b5d89af   50.6g    51% /
    sdb
    â”œâ”€sdb1
    â”‚    vfat   fat32                           bc00-6365
    â”œâ”€sdb2
    â”‚    ext4   1.0                             4b1b0623-c1d0-4da9-8164-20ee74253def   47.1g    19% /extra
    â”œâ”€sdb3
    â”‚    swap   1                               a5945738-343f-4cfb-ad76-8ca012eb2576                [swap]
    â””â”€sdb4
         ext4   1.0                             833c2579-bc84-463a-96a4-89478bd89e9e  708.8g    10% /home
    sdc  iso966 jolie pop_os 22.04 amd64 nvidia 2023-09-13-19-15-11-00
    â”œâ”€sdc1
    â”‚    iso966 jolie pop_os 22.04 amd64 nvidia 2023-09-13-19-15-11-00
    â””â”€sdc2
         vfat   fat12                           a38c-caf4

2023-10-01:
  on the dell,

    f1: reboot
    f2: setup
    f5: run diagnostics

  previously ran diagnostics. hard drive dead. laptop connected to
  internet and diagnostics suggested replacing drive with an
  optical drive: dell 2.5" sata ssd

  ssd drive was a drop-in replacement.

  in the "bios" uefi setup, turned off legacy mode and the secure boot
  misfeature. went to confirm boot order, could not figure out how to
  change. should not matter since no os on ssd. usb thumbdrive could be
  first?

  reboot with the usb thumbdrive in place.

  had to power cycle before it recondized thumb drive and booted into
  popos. did see one nvidia error flash by, but popos website indicated
  that nvidia drives may need installing. system has a discrete nv card.

  dropped into a live-os desktop gui environment, took a minute before
  the intallation gui popped up.

2023-10-01:
  installed popos through gui without any problems, took most defaults,
  did not encrypt hard drive.

  during install i created user account "buggy" and set timezone to edt.

  things i did post-install (tried to keep minimal):

    - created /etc/sudoers.d/daddyadditionsupdated to allow user buggy
      to use sudo without password. edited with visudo.
      - have to give daughters the "with great power comes great
        responsibilities" talk.
    - edited ~/.bashrc.
      - added: set -o vi
        - to use vi command-line editing
    - changed system name to "onepiece"
      - $ sudo hostnamectl set-hostname onepiece
      - gui install had named it pop-os
    - installed neovim
      - $ sudo apt install neovim
      - made no attempt to configure it
      - mouse is turned off, so mouse clicks talk to terminal app
        - might be more intuitive behavior for beginners
    - installed python
      - $ sudo apt install python-is-python3
    - git was already installed
    - installed dark reader pluggin to firefox

  let's check video settings:

    $ lspci -k | grep -a 2 -e "(vga|3d)"
    00:02.0 vga compatible controller: intel corporation hd graphics p630 (rev 04)
        devicename:  onboard igd
        subsystem: dell hd graphics p630
    --
    01:00.0 3d controller: nvidia corporation gm107glm [quadro m620 mobile] (rev a2)
        subsystem: dell gm107glm [quadro m620 mobile]
        kernel driver in use: nvidia

  good!!! looks like correct drivers are installed for gaming. popos
  is designed for gaming. much as i'd love to set this up, this is my
  daughter's job.

  let's see if we are xorg or wayland.

    $ journalctl -b |grep -i wayland
    oct 01 20:14:49 onepiece systemd[1940]: starting gnome shell on wayland...
    oct 01 20:14:49 onepiece systemd[1940]: org.gnome.shell@wayland.service: skipped due to 'exec-condition'.
    oct 01 20:14:49 onepiece systemd[1940]: condition check resulted in gnome shell on wayland being skipped.

  are we using xorg? and gnome? i thought popos used something called cosmic desktop?
  looks like they intend the default to be wayland in the future, but dropped back to xorg for now.

  let's find out.

    $ systemctl list-units|grep -i -e '(wayland|x11)'

    $ systemctl --user list-units|grep -i -e '(wayland|x11)'
      org.gnome.shell@x11.service               loaded active running   gnome shell on x11
      gnome-session-x11-services.target         loaded active active    gnome session x11 services
      gnome-session-x11.target                  loaded active active    gnome x11 session
      gnome-session-x11@pop.target              loaded active active    gnome x11 session (session: pop)

2023-10-01:
  both fd and rg are missing. took a little hunting to find the package names.

   $ sudo apt install ripgrep
   $ sudo apt install fdfind

  the latter was already installed but by the fdfind name. i added a fd alias
  to ~/.bashrc for it.

2023-10-02:
  created a single file neovim configuration. located
  ~/.config/nvim/init.lua. kept it single file and "grokable" for
  them. used some more advanced lua constructs because some of my
  daughters want to learn lua for roblox.

2023-10-11:
  configured the pop!_shop "app" <- the gui between "terminal" & "settings" on
  the task bar at bttom of desktop, to automatically perform system and flatpak
  updates. scheduled this every weekday at 7:00am when i know my daughters will
  be in bed.

2023-10-11:
  popos apt installed neovim version 0.6.1, way yoo old. in order to use it,
  i would have to embed too much viml script into ~/.config/nvim/init.lua. viml
  script is not the future, lua is. i would not want to inflict having to learn
  viml script on my daughters.

  added the alias

    alias nv='flatpak run io.neovim.nvim'

  to ~/.bashrc so that bash can find neovim from the command-line. now runs
  in the terminal it was launched in.

  i thought running nvim as a flatpak was less probamatic than a non-standard
  popos configuration, ubuntu repos, the debian sid repo, or hacker bob's repo.

2023-10-11:
  installed neofetch.

    $ sudo apt install neofetch

  run neofetch (in regular terminal, not nvim terminal):

    buggy@onepiece:~$ neofetch
                 /////////////                buggy@onepiece
             /////////////////////            --------------
          ///////*767////////////////         os: pop!_os 22.04 lts x86_64
        //////7676767676*//////////////       host: precision 3520
       /////76767//7676767//////////////      kernel: 6.4.6-76060406-generic
      /////767676///*76767///////////////     uptime: 1 hour, 38 mins
     ///////767676///76767.///7676*///////    packages: 1888 (dpkg), 8 (flatpak)
    /////////767676//76767///767676////////   shell: bash 5.1.16
    //////////76767676767////76767/////////   resolution: 1920x1080
    ///////////76767676//////7676//////////   de: gnome 42.5
    ////////////,7676,///////767///////////   wm: mutter
    /////////////*7676///////76////////////   wm theme: pop
    ///////////////7676////////////////////   theme: pop-dark [gtk2/3]
     ///////////////7676///767////////////    icons: pop [gtk2/3]
      //////////////////////'////////////     terminal: gnome-terminal
       //////.7676767676767676767,//////      cpu: intel xeon e3-1505m v6 (8) @ 4.000ghz
        /////767676767676767676767/////       gpu: nvidia quadro m620 mobile
          ///////////////////////////         gpu: intel hd graphics p630
             /////////////////////            memory: 4365mib / 31949mib
                 /////////////

2023-10-12:
  i hate flatpaks!!!!! wonder why nvim was ignoring ~/.config/nvim/init.lua, a :checkhealth showed
  that that it was looking somewhere under some flatmap infrastructure directory!!!!
  somewhere under the ~/.var/app/io.neovim.nvim/data/nvim/ real directory.
  uninstalled the neovim
  flatmap. what good are flatpaks if they don't integrate with their host os?????

  can't use what comes with the base os:

    buggy@onepiece:~$ apt show neovim
    package: neovim
    version: 0.6.1-3
    priority: extra
    section: universe/editors
    origin: ubuntu
    maintainer: ubuntu developers <ubuntu-devel-discuss@lists.ubuntu.com>
    original-maintainer: debian vim maintainers <team+vim@tracker.debian.org>

  might as well be using ed.

2023-10-12:
  let's move off the lts to see if we can get a later version of neovim.

    $ sudo apt update
    $ sudo apt full-upgrade
    $ pop-upgrade recovery upgrade from-release
    $ pop-upgrade release upgrade

  nope, this just update 7 packages. lets redo them:

    $ sudo apt update
    hit:1 http://apt.pop-os.org/proprietary jammy inrelease
    hit:2 http://apt.pop-os.org/release jammy inrelease
    hit:3 http://apt.pop-os.org/ubuntu jammy inrelease
    hit:4 http://apt.pop-os.org/ubuntu jammy-security inrelease
    hit:5 http://apt.pop-os.org/ubuntu jammy-updates inrelease
    hit:6 http://apt.pop-os.org/ubuntu jammy-backports inrelease
    reading package lists... done
    building dependency tree... done
    reading state information... done
    all packages are up to date.

    $ sudo apt upgrade
    reading package lists... done
    building dependency tree... done
    reading state information... done
    calculating upgrade... done
    the following packages were automatically installed and are no longer required:
      libluajit-5.1-2 libluajit-5.1-common libmsgpackc2 libtermkey1 libtree-sitter0
      libunibilium4 libvterm0 lua-luv neovim-runtime python3-greenlet
      python3-msgpack python3-neovim python3-pynvim xclip
    use 'sudo apt autoremove' to remove them.
    0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.

    $ sudo apt full-upgrade
    reading package lists... done
    building dependency tree... done
    reading state information... done
    calculating upgrade... done
    the following packages were automatically installed and are no longer required:
      libluajit-5.1-2 libluajit-5.1-common libmsgpackc2 libtermkey1 libtree-sitter0
      libunibilium4 libvterm0 lua-luv neovim-runtime python3-greenlet
      python3-msgpack python3-neovim python3-pynvim xclip
    use 'sudo apt autoremove' to remove them.
    0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.

    $ pop-upgrade recovery upgrade from-release
    checking if pop-upgrade requires an update
    recovery event: fetching recovery files
    recovery upgrade status: recovery partition refueled and ready to go

    $ pop-upgrade release upgrade
    checking if pop-upgrade requires an update
    current release: 22.04
    upgrading to: 22.10
    new version available: false
    no release available to upgrade to

  after a little research, i am at the latest release.

  my choices are:

    1. install a ppa:

       import the stable neovim ppa with the following command:

         $ sudo add-apt-repository ppa:neovim-ppa/stable -y

       or, to import the unstable neovim ppa, use this command:

         $ sudo add-apt-repository ppa:neovim-ppa/unstable -y

    2. install the nix package manage:

         $ sh <(curl -l https://nixos.org/nix/install) --daemon

       see https://nixos.org/learn

    3. figure out where the flatpack wants neovim's configuration files:

       reinstall the neovim flatpak.

       from within a neovim :term session,

         sh-5.2$ env|grep -i xdg
         xdg_config_dirs=/app/etc/xdg:/etc/xdg
         xdg_menu_prefix=gnome-
         xdg_data_home=/home/buggy/.var/app/io.neovim.nvim/data
         xdg_config_home=/home/buggy/.var/app/io.neovim.nvim/config
         xdg_session_desktop=pop
         xdg_session_type=x11
         xdg_current_desktop=pop:gnome
         xdg_cache_home=/home/buggy/.var/app/io.neovim.nvim/cache
         xdg_session_class=user
         xdg_state_home=/home/buggy/.var/app/io.neovim.nvim/.local/state
         xdg_runtime_dir=/run/user/1000
         xdg_data_dirs=/app/share:/usr/share:/usr/share/runtime/share:/run/host/user-share:/run/host/share

         $ cp .config/nvim/init.lua  /home/buggy/.var/app/io.neovim.nvim/config/nvim/

       from an external shell,

         $ env | grep -i xdg
         xdg_config_dirs=/etc/xdg/xdg-pop:/etc/xdg
         xdg_menu_prefix=gnome-
         xdg_session_desktop=pop
         xdg_session_type=x11
         xdg_current_desktop=pop:gnome
         xdg_session_class=user
         xdg_runtime_dir=/run/user/1000
         xdg_data_dirs=/usr/share/pop:/usr/share/gnome:/home/buggy/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share/:/usr/share/

       at least $xdg_config_home should default to ~/.config

       looks like they are trying to make things "easy" for gui users at
       the expense of intermediate users. i wish they'd just keep things
       "simple."

2023-10-15:
  any case, when the neovim flatpak is launched from the gui or the
  terminal, it uses the flatpak $xdg paths. apt installed applications
  use the system $xdg paths.

  so in anticipation of a more up-to-date neovim in a future popos
  release or update,

    - put the configuration here: ~/.config/nvim/init.lua
    - created a sym-link from the flatpak xdg location

        $ ln -s ~/.config/nvim/init.lua  ~/.var/app/io.neovim.nvim/config/nvim/init.lua

    - created the nv alias in ~/.bashrc for the flatpak

        alias nv='flatpak run io.neovim.nvim'

  if popos ever updates the neovim package, we can run it as nvim
  without clashing with the flatpak version.

2023-10-15:
  getting tired of emailing changes between onepiece and euler7. i don't
  want to create a second account for myself, nor configure my github
  credentials with the buggy account. the computers right now are
  sitting in the same room. will install and enable the sshd daemon.

    $ apt search openssh-server
    sorting... done
    full text search... done
    openssh-server/jammy-updates 1:8.9p1-3ubuntu0.4 amd64
      secure shell (ssh) server, for secure access from remote machines

    $ sudo apt install openssh-server
    ...

    $ sudo systemctl status sshd.service
    â— ssh.service - openbsd secure shell server
         loaded: loaded (/lib/systemd/system/ssh.service; enabled; vendor preset: enabled)
         active: active (running) since sun 2023-10-15 14:24:14 edt; 5min ago
           docs: man:sshd(8)
                 man:sshd_config(5)
       main pid: 4496 (sshd)
          tasks: 1 (limit: 38191)
         memory: 1.7m
            cpu: 19ms
         cgroup: /system.slice/ssh.service
                 â””â”€4496 "sshd: /usr/sbin/sshd -d [listener] 0 of 10-100 startups"

    oct 15 14:24:14 onepiece systemd[1]: starting openbsd secure shell server...
    oct 15 14:24:14 onepiece sshd[4496]: server listening on 0.0.0.0 port 22.
    oct 15 14:24:14 onepiece sshd[4496]: server listening on :: port 22.
    oct 15 14:24:14 onepiece systemd[1]: started openbsd secure shell server.

    $ systemctl is-enabled sshd.service
    alias

  huh???....

    $ systemctl is-enabled ssh.service
    enabled

    $ systemctl status ssh.service
    â— ssh.service - openbsd secure shell server
         loaded: loaded (/lib/systemd/system/ssh.service; enabled; vendor preset: enabled)
         active: active (running) since sun 2023-10-15 14:24:14 edt; 10min ago
           docs: man:sshd(8)
                 man:sshd_config(5)
       main pid: 4496 (sshd)
          tasks: 1 (limit: 38191)
         memory: 1.7m
            cpu: 19ms
         cgroup: /system.slice/ssh.service
                 â””â”€4496 "sshd: /usr/sbin/sshd -d [listener] 0 of 10-100 startups"

    oct 15 14:24:14 onepiece systemd[1]: starting openbsd secure shell server...
    oct 15 14:24:14 onepiece sshd[4496]: server listening on 0.0.0.0 port 22.
    oct 15 14:24:14 onepiece sshd[4496]: server listening on :: port 22.
    oct 15 14:24:14 onepiece systemd[1]: started openbsd secure shell server.

    $ systemctl is-enabled ssh.service
    enabled

  not only did it install it, it started it and enabled it too, even
  when i gave it the wrong name!!! how is one expected to learn anything
  if the system is setup so it can be fuddled through? simplicity,
  understandability, and reproducibility are more important to me than
  "it just works." because when it doesn't "just work" you have a real
  big ball-of-mud to unroll. enough preaching. i do like popos and am
  really looking foeward helping my daughters upgrade it to the next
  version running the cosmic desktop under wayland.

  neither gauss17 nor onepiece knew of each other.

  i am editing this now while remotingly logged in via ssh from
  gauss17. had to use the ip address. the onepiece system does not know
  anything about my alacritty terminal emulator. i am getting
  a monochrome terminal session.

    $ sudo apt install alacritty
    ...
    the following new packages will be installed:
      alacritty xclip
    ...

  launched alacritty terminal on onepiece, bash session definately more
  readable than gnome-terminal. neovim sessions definately more
  readable. while remotely logged into onepiece thru ssh from an alacritty
  terminal running on gauss17, bash does not know about colors but nvim
  and neofetch do.

    $ echo $term
    alacritty

  need to adjust ~/.bashrc startp script...

2023-10-15:
  but first, onepiece keeps going asleep on me after only a couple of
  minutes. let's see if my "spin" script will fix this.

    buggy@onepiece:~$ mkdir bin .local/bin
    [grs@gauss17: ~]$ scp bin/spin buggy@192.168.1.8:bin/spin
    buggy@192.168.1.8's password:
    spin                                100%  431    65.6kb/s   00:00

  spin is a simple shell script that rotates a bar around clockwise.
  lets see if that is enough to keep onepiece awake.

2023-10-15:
  back to getting bash configured for alacritty. added "alacritty" to
  script logic.

  also... the neovim flatpak lies to you.

    $ cd /etc/skel
    $ vi ./.bashrc   <- edits that file
    $ nv ./.bashrc   <- edits /home/buggy/.bashrc !!!!!

  another example of not trusting flatpaks!!! there obviously is
  a "monkey-in-the-middle" messing up a trusted code base. if a user
  does not yet understand hierarchical file system structure, they have
  no business editing ~/.bashrc!!!!!

  i don't like tools that lie to you. as soon a more up to date system
  version installable with apt is available, we need to dump this
  flatpak. i don't hate flatpaks, appimages, nor snaps; just the morons
  who do the packaging.

2023-10-15:
  while ranting above, one piece fell asleep on me again. let's go into
  the setting app and adjust this to more appropriate settings for
  a home computer. settings app is last icon in the dock at bottom.

  changes made:

    superkey: now shows desktop view
      infititely more useful than showing running apps or the worthless
      launcher. i think that actually is the vanilla gnome default
      behavior.

    turned on "hot corner"
      does the same as the superkey, useful if your hand is on the mouse
      and not the keyboard. some people hate this. tastes vary.

    appearance: dark
      i set this a while ago.

    dock visibility: intelligently hide
      unless you use a 42" monitor, the increase in screen real estate
      is much appriciated.

    dock icon size: made smaller
      looks cooler, more room for icons, takes up less space, and most
      of all, it does not remind me of a mac anymore.

  that is about it. everything else looked reasonable.

  note: you can change keyboard shortcuts via the "hamberger" menu on
        the left side of the top of the settings app.

  note: no suspend/hibernate settings.

  note: very useful help menu in hamberger menu.

  but wait!!! there in an < icon at the top left of the settings app
  that takes you to way more stuff.

    changes made:

      screen blanking after 15 min (was 5 minutes)
      autoscreen lock after 1 hour after sceen blanking

2023-10-15:
  back to alacritty, default font looks good. unless neovim is
  configured for software development, full fledged ide with lsp
  support, no sense installing and configuring a nerd-font.

  surprise! when super-t shortcut is hit, it opens an alacritty
  terminal, not the gnome-terminal any more.

    ctrl+shift+c copied
    ctrl+shift+p pastes

  if in neovim with alacritty, hold down the shift key when you select
  with the mouse. that way the mouse is talking to the alacritty
  terminal app and not the neovim program running in the alacritty
  terminal.

  there are many ways you can cut and paste using neovim directly. one
  way is to highlight the with the mouse without pressing shift key.
  then press "+y to "yank" copies the text to the system clipboard.

  you can paste from the system clipboard into neovim using "+p key
  combination. the text in the system clipboard is pasted to where the
  cursor is.

  with gnome-terminal, you can always right click to get a copy, cut
  paste menu where you can copy and past into the terminal. if neovim is
  running in the terminal, it just thinks you typed it.

  if all else fails, use nano to edit text files. it is brain-dead
  simple and a good choice for the brain-dead. if you ever what to edit
  programming source code files, html files, markdown files, system
  configuration files, csv database dump files - you will need to to
  learn how to use and configure something more powerful, like vim,
  neovim, or emacs.

  i kept shortcuts for both alacritty and gnome-terminal in the dock for
  you to choose from.

2023-10-15:
  yes!!!!!!!!! this desktop has a tiling mode!!!

  on the topbar, to the left of the power/network/bluetooth controls is
  a button where you can put the desktop in tiling mode. a fairly
  intuitive tiler. alacritty plays very nicely in this mode. can turn
  off title bars too to gain some real estate. firefox, calaculator,
  gnome-terminal keep their title bars.

  in tiling mode still click focus, but windows can easily be
  repositioned and resized with the mouse. windows will also tab
  themselves. probably won't need screen ot tmux. need to investigate
  keybindings for this mode.

2023-10-29:
  have logged in in a while. onepiece cosmic desktop seems to be
  suspending the system again after only a few minutes of inactivity.
  need to turn this misfeature off forever!!!

  will install a gnome extension called caffeine to do this.

  pop!_os 22.04 desktop is based on gnome 42. first add gnome shell
  integration to firefox browser from https://extensions.gnome.org/
  website.

  well, when i launch the gnome extensions plugin from the browser, it
  complains:

    your native host connector do not support following apis: v6. probably you should
    upgrade native host connector or install plugins for missing apis. refer documentation
    for instructions.

  hummmm...something tells me pop! os does not want me to do it this
  way.

    $ apt search 'caffeine'
    sorting... done
    full text search... done
    caffeine/jammy,jammy 2.9.8-2 all
      prevent the desktop becoming idle in full-screen mode

    fonts-aenigma/jammy,jammy 0.0.20080511+dfsg-4 all
      465 free truetype fonts by brian kent

    libcaffeine-java/jammy,jammy 2.6.2-1.1 all
      high performance caching library

  let's install it.

    $ sudo apt install 'caffeine'
    reading package lists... done
    building dependency tree... done
    reading state information... done
    the following additional packages will be installed:
      gir1.2-ayatanaappindicator3-0.1 python3-ewmh
    suggested packages:
      python-ewmh-doc
    the following new packages will be installed:
      caffeine gir1.2-ayatanaappindicator3-0.1 python3-ewmh
    0 upgraded, 3 newly installed, 0 to remove and 51 not upgraded.
    need to get 61.0 kb of archives.
    after this operation, 392 kb of additional disk space will be used.
    do you want to continue? [y/n]
    get:1 http://apt.pop-os.org/ubuntu jammy/main amd64 gir1.2-ayatanaappindicator3-0.1 amd64 0.5.90-7ubuntu2 [5,822 b]
    get:2 http://apt.pop-os.org/ubuntu jammy/universe amd64 python3-ewmh all 0.1.6-2 [6,840 b]
    get:3 http://apt.pop-os.org/ubuntu jammy/universe amd64 caffeine all 2.9.8-2 [48.3 kb]
    fetched 61.0 kb in 0s (290 kb/s)
    selecting previously unselected package gir1.2-ayatanaappindicator3-0.1.
    (reading database ... 260500 files and directories currently installed.)
    preparing to unpack .../gir1.2-ayatanaappindicator3-0.1_0.5.90-7ubuntu2_amd64.deb ...
    unpacking gir1.2-ayatanaappindicator3-0.1 (0.5.90-7ubuntu2) ...
    selecting previously unselected package python3-ewmh.
    preparing to unpack .../python3-ewmh_0.1.6-2_all.deb ...
    unpacking python3-ewmh (0.1.6-2) ...
    selecting previously unselected package caffeine.
    preparing to unpack .../caffeine_2.9.8-2_all.deb ...
    unpacking caffeine (2.9.8-2) ...
    setting up python3-ewmh (0.1.6-2) ...
    setting up gir1.2-ayatanaappindicator3-0.1 (0.5.90-7ubuntu2) ...
    setting up caffeine (2.9.8-2) ...
    processing triggers for hicolor-icon-theme (0.17-2) ...
    processing triggers for gnome-menus (3.36.0-1ubuntu3) ...
    processing triggers for man-db (2.10.2-1) ...
    processing triggers for desktop-file-utils (0.26-1ubuntu3) ...

  do a full reboot and see what shows up in the system tray (upper right
  corner).

  well, nothing is showing up in the system tray upon reboot or
  launching the caffine python script from the command line. after
  several attemps, i notice a bunch are running in the background.

  lets try another reboot and see what is running.

    $ ps -fu buggy | grep caffeine
    buggy       2277    2089  4 11:08 ?        00:00:00 /usr/bin/python3 /usr/bin/caffeine
    buggy       2594    2570  0 11:08 pts/0    00:00:00 grep --color=auto caffeine

  seems to be a pattern. don't know if it ia a pop! os, ubuntu, or
  debian thing, but when apt is used to install software, apt configures
  and enables it.
  it & enables it.

  the cosmic desktop on pop!_os 22.04 is implemented using system 76
  gnome extensions. i guess the caffine extension is incompatible with
  the cosmic system tray.

  let's see if it keeps the system from suspending itself.

  after 23 minutes system was still alive, but there was a notification
  in the upper middle of the screen about the system was soon to suspend
  due inactivity. another notification came in on the right, but was
  gone when i went to read it.

  let it sit again, starting stopwatch.

  after an hour and the system was suspended.

  looked at /usr/bin/caffeine, it is a python gtk gui application. looks
  to be using gtk3 while i think cosmic uses gtk4. this piece of junk
  looks like it was written by a script kiddie based on stack overflow
  answers. just swallows exceptions. seems to be doing very generic xdg
  and gnome desktop things. geared to when you have screen app running
  and you are not interacting with keyboard or mouse.

  i will unenstall it.

    $ sudo apt remove caffeine

  also, when i launch the firefox gnome extension

    your native host connector do not support following apis: v6.
    probably you should upgrade native host connector or install plugins
    for missing apis. refer documentation for instructions.

  i think trying to "fix" this will break what system76's cosmic desktop
  decorated gnome shell.

2023-10-29:
  under settings -> power i fixed the suspend issue. system will
  suspend after a half hour when on battery power only.

2023-10-29:
  time to look at gaming.

    $ sudo apt install steam
    $ sudo apt install lutris

  now reboot and see where we are at.

  i am having trouble passing the stream cap'tas and my lutris logins are
  all messed up....

  you are on your own.

2023-10-29:
  some final system updates before shipping the computer east.

    $ sudo apt update
    $ sudo apt upgrade

  install system neovim, maybe on an upgrade we will get a more modern
  version.

    $ sudo apt install neovim

  the flatpak is still installed:

    system  -> nvim
    flatpak -> nv

2023-12-22:
  due to sandboxing, had to create symlink

    ~/.var/app/io.neovim.nvim/config/nvim -> /home/buggy/.config/nvim

  for the flatpak to find its configuration files. i wish it would adhere to
  dsg standards. lazy.nvim installed its plugins there

    ~/.var/app/io.neovim.nvim/data/nvim/laxy

2023-12-23:
  uninstalled the neovim flatpak using pop shop.

  sandbox did not let me run executanles from /usr/bin. actually had its
  own /usr with its own versions of system utilities. but not rg nor fd.

  alarcritty terminl shell $path:
    /home/buggy/.nix-profile/bin
    /home/buggy/.cabal/bin
    /home/buggy/.local/bin
    /home/buggy/bin
    /usr/local/sbin
    /usr/local/bin
    /usr/sbin
    /usr/bin
    /usr/games
    /usr/local/games

  neovim terminal shell $path:
    /app/bin
    /usr/bin
    /home/buggy/.var/app/io.neovim.nvim/data/node/bin
    /home/buggy/.var/app/io.neovim.nvim/data/cargo/bin
    /home/buggy/.var/app/io.neovim.nvim/data/python/bin
    /home/buggy/.var/app/io.neovim.nvim/data/gem/ruby/3.2.0/bin

  tried "mounting" host directories via

    $ flatpak --filesystem=host inmneovim,nvim

  but some utilitied hsd trouble finding their shared libraries.

2023-12-23:

  let's install from neovim's ppa

    $ sudo add-apt-repository ppa:neovim-ppa/stable
    $ sudo apt update
    $ sudo apt install neovim

    nvim v7.2.3-stable
    7.2-3~bpo22.04.1~ppa1

    $ sudo apt remove neovim
  $ sudo add-apt-repository -r ppa:neovim-ppa/stable
  $ sudo add-apt-repository ppa:neovim-ppa/unstable
    $ sudo apt update
    $ sudo apt install neovim

    nvim v0.10.0-dev
    0.10.0~ubuntu1+git202312222107-031088fc0-c60402a16-2582e8055~ubuntu22.04.1

  the stable version is too out of date and the development version
  is too new. the one on arch linux is 0.9.2 or 0.9,3. will stay with
  the dev and periodically upgrade until i find a more stable one.

  took several iterations before lazy got everthing loaded correctly.

  will work to get lsp & nix working.

2023-12-24:
  trying to get lsp working with neovin.

  commented out from "excluded_servers" in lsp.lua: bashls, lua_ls,

  install clang lsp server, formatter, linter, and clang itself:

    $ sudo apt install clang clang-format clang-tidy clangd

  install nix package manager system wide.

    sh <(curl -l https://nixos.org/nix/install) --daemon

2023-12-24:
  install nerd-fontd.

  from https://www.nerdfonts.com/font-downloads download
  robotomono.zip and firacode.zip

    $ mkdir ~/.local/share/fonts
    $ ax robotomono.zip
    $ mv *.ttf ~/.local/share/fonts/
    $ ax firacode.zip
    $ mv *.ttf ~/.local/share/fonts/

2023-12-26:
  installed pyenv. went to build python 3.11.7 but needed more
  dependencies.

  from https://github.com/pyenv/pyenv/wiki#suggested-build-environment

    $ sudo apt install build-essential libssl-dev zlib1g-dev \
      libbz2-dev libreadline-dev libsqlite3-dev curl \
      libncursesw5-dev xz-utils tk-dev libxml2-dev libxmlsec1-dev \
      libffi-dev liblzma-dev

  now this works

    $ pyenv install 3.11.7

  let's switch to 3.11.7 and create a virtual environment.

    $ cd ~/devel/python_envs/
    $ pyenv shell 3.11.7
    $ python --version
    python 3.11.7
    $ python -m venv grs
    $ source grs/bin/activate
    $ python
    ...
    $ deactiv

  todo:

    1. port my fish python environment infrastructure over to bash.
    2. adjust fish infrastructure for pyenv, since i now know how to
       build later versions of python.
    3. maybe adjust bash & fish python infrastructure to handle both
       pyenv and virtual environments together instead of orthogonally.

2024-04-27:
  left gauss17 charger in denver airport. need to configure onepiece for
  softare development. daughters have no interest in learning bash. will
  install fish:

    $ sudo apt-get upgrade
    $ sudo apt-get upgrade fish
    $ sudo usermod buggy -s /usr/bin/fish

  had to reboot before change took effect in cosmic desktop. was
  immediate in virtual consoles.

  will be using grsbeowulf github account. don't know if i set up
  signing or not. i was hoping this file would show, but it doed not.

  went to github, i did set up an ssh key, but 'git commit -s' not
  working.

2024-04-29:
  fish was too old!!! did not understand "set -f".

    $ sudo add-apt-repository ppa:fish-shell/release-3
    $ sudo apt update
    $ sudo apt install fish

2024-04-29:
  decided to get bash, python and nvim working better before addressing fish.

    for nvim (from :checkhealth)

      $ sudo apt install fswatch
      $ sudo apt install nodejs
      $ sudo apt install npm
      $ sudo npm install -g neovim

      had to download tree-sitter from tree-sitter github page. put it in my
      ~/bin directory. i guess it is too much of a moving target for pop os's
      repos. version 0.22.5 for linux-x64.

    for bash scripting, needed realpath

      $ sudo apt install coreutils

    for python

      $ /usr/bin/python --version
      python 3.10.12

    this is so old, typing module not available. imho python without the typing
    module is unacceptable.

    i hate doing this but pyenv is not in the pop os repos.

      $ curl https://pyenv.run | bash

    it did not edit my .bashrc (good) but the info message regarding the .bashrc
    bootstrap was incorrect. it indicated ~/.pyenv as the install location but
    pyenv was installed in  ~/.local/share/pyenv instead.

2025-12-20:
  Previously I made a big mistake. I managed to install PoPOS 22.04 instead of
  24.04. was able to patch it up to a fairly modernish cosmic de via the
  pop shop and sudo apt upgrade.

  doing a proper in place upgrade

    $ sudo pop-upgrade release upgrade -f

  after an initial mock install and two reboots i am at

       $ neofetch
                /////////////                grs@onepiece
            /////////////////////            ------------
         ///////*767////////////////         os: pop!_os 24.04 lts x86_64
       //////7676767676*//////////////       host: precision 3520
      /////76767//7676767//////////////      kernel: 6.17.9-76061709-generic
     /////767676///*76767///////////////     uptime: 32 mins
    ///////767676///76767.///7676*///////    packages: 2094 (dpkg), 9 (flatpak)
    ////////767676//76767///767676////////   shell: bash 5.2.21
    /////////76767676767////76767/////////   resolution: 1920x1080
    //////////76767676//////7676//////////   de: cosmic
    ///////////,7676,///////767///////////   theme: adw-gtk3-dark [gtk3]
    ////////////*7676///////76////////////   icons: cosmic [gtk3]
    //////////////7676////////////////////   terminal: cosmic-term
    ///////////////7676///767////////////    cpu: intel xeon e3-1505m v6 (8) @ 4.000ghz
     //////////////////////'////////////     gpu: nvidia quadro m620 mobile
      //////.7676767676767676767,//////      gpu: intel hd graphics p630
       /////767676767676767676767/////       memory: 3102mib / 31953mib
         ///////////////////////////
            /////////////////////
                /////////////

  One interesting factoid is

    $ ls -l /etc/alternatives/vi*
    lrwxrwxrwx 1 root root 13 Dec 20 18:02 /etc/alternatives/vi -> /usr/bin/nvim
    lrwxrwxrwx 1 root root 24 Dec 20 18:02 /etc/alternatives/view -> /usr/libexec/neovim/view
    lrwxrwxrwx 1 root root 13 Dec 20 18:02 /etc/alternatives/vim -> /usr/bin/nvim
    lrwxrwxrwx 1 root root 27 Dec 20 18:02 /etc/alternatives/vimdiff -> /usr/libexec/neovim/vimdiff

  with

    $ nvim --version
    NVIM v0.9.5
    Build type: Release
    LuaJIT 2.1.1703358377

    system vimrc file: "$VIM/sysinit.vim"
    fall-back for $VIM: "/usr/share/nvim"

    Run :checkhealth for more info

  This is a bit out-of-date for my Neovim configuration, so I need to install
  the PPA version.

    $ sudo add-apt-repository ppa:neovim-ppa/unstable
    $ nvim --version
    NVIM v0.12.0-dev
    Build type: RelWithDebInfo
    LuaJIT 2.1.1703358377
    Run "nvim -V1 -v" for more info

  Config and plugins a little out-of-date but Neovim completely usable. Will
  finish after getting fish updated.

    $ sudo add-apt-repository ppa:fish-shell/release-4
    $ sudo aot full-upgrade

  The "full-upgrade" is needed or the update is "held back".

    $ fish --version
    fish, version 4.2.1

  Upgrade my user's shell.

    $ sudo usermod -s /usr/bin/fish grs

  Now finish up installing Neovim.

    $ sudo apt install fswatch nodejs npm
    $ sudo npm install -g neovim
    $ sudo npm install -g tree-sitter-cli

  Finally update plugins and tools with Lazy and Mason.
