#  Get functions and aliases
#
#    ~/.bash_init
#
#  Configure initial value of $PATH and environment
#  variables you wish child processes, perhaps other
#  bash shells, to inherit.
#
#  This was traditionally done in .bash_profilex 
#  whenever a login shell was created.  Unfortunately,
#  in most Desktop Environments, the bash shells
#  in terminal emulators inherit not from a login
#  shell, but the POSIX shell scripts which kick off
#  the X-session.  As a result, only ~/.bashrc can
#  be counted on to be consistently run.
#
#  Non-existent path and duplicate path elements
#  will be dealt with near end of script.
#

# shellcheck shell=bash

## Sentinel value to mark completion of
#  an initial environment configuration.
export BASH_INIT_SOURCED

if [[ -z $BASH_PROFILE_SOURCED ]]
then
    # Shell not descendent from a login shell
    export BASH_PROFILE_SOURCED=0
fi

if [[ -v BASH_PROFILE_RESOURCED ]]
then
    # Login shell or user sourced ~/.bash_profile
    unset BASH_PROFILE_RESOURCED 
fi

## Default file permissions - group way too broad for work CentOS 7
if [[ ! -f /etc/redhat-release ]]
then
    umask u=rwx,g=rx,o=
else
    umask u=rwx,g=,o=
fi

export EDITOR=vim
export VISUAL=vim

## My e-mail addresses
export ME='geoffrey@scheller.com'
export ME_MIL='geoffrey.scheller.1@us.af.mil'
export ME_GOOGLE='grscheller@gmail.com'

## Set locale so applications (like Python3) display unicode correctly
export LANG=en_US.utf8

## To supercede what comes with the Linux distribution.
PATH=~/local/bin:$PATH

## Python pip configuration
export PIP_REQUIRE_VIRTUALENV=true

## Kerberos utilities for HPCMP access.
PATH=/usr/local/ossh/bin:/usr/local/krb5/bin:$PATH

## For Haskell locally contained and administered via stack
PATH=~/.local/bin:$PATH

## Location Rust Toolchain
PATH=~/.cargo/bin:$PATH

## Locally installed SBT (Scala Build Tool)
PATH=~/opt/sbt/bin:$PATH

## Put home bin directory near end
PATH=$PATH:~/bin

## Not putting current directory "." on PATH,
#  better security and makes rsync happy.
# PATH=$PATH:.

## Clean up PATH - remove duplicate entries
[[ -x ~/bin/pathtrim ]] && PATH=$(~/bin/pathtrim "$PATH")

## Put a relative bin directory at end of PATH, this is for projects
#  where my user takes up residence in the project's root directory.
[[ $PATH =~ :bin:* ]] || PATH=$PATH:bin 

export PATH  # Not really necessary, PATH should
             # already be in the environment.

# system information for ssh configuration in .bashrc
#
#                  Host-Name           port   login      hpc
export    VOLTRON='rvsllschellerg2        22  schelleg    no'
export EVERGARDEN='rvsllmonetd1           22  schelleg    no'
export      KOALA='rvswlschellerg1        22  schelleg    no'
export     GALAGA='kprswvbylnzjt52        22  schelleg    no'
export   SHERWOOD='rvsllsherwoodj1        22  schelleg    no'
export LITTLEJOHN='rvswlwojcikj1          22  schelleg    no'
export       TREX='rvswlcrabtreep1        22  schelleg    no'
export      TOPAZ='topaz.erdc.hpc.mil     22  schelleg   yes'
export        UST='us.erdc.hpc.mil        22  schelleg   yes'
export     ZAMBIA='zambia                 22  schelleg    no'
export   MAXWELL4='maxwell4            29801  geoffrey    no'
export    GAUSS17='gauss17             31502  geoff       no'

