#!/bin/bash
#
#  bootstrapPlug 
#

if (( $# == 0 ))
then
    printf '\nError: No options given, nothing to do.\n' >&2
    printf "\\n       Run 'bootstrapPlug -h' for help\\n" >&2 
    exit 2
fi

vim_flag=
neovim_flag=

while (( $# > 0 ))
do
  case "$1" in
    -v|--vim)
        vim_flag=1
        ;;
    -n|--nvim)
        neovim_flag=1
        ;;
    -a|--all)
        vim_flag=1
        neovim_flag=1
        ;;
    -h|-help|--help)
        printf '\nPurpose: Do the initial install of ' >&2
        printf            'the Plug plugin manager.\n' >&2
        printf '\nUsage: ./bootstrapPlug [--vim] [--nvim] [-all]\n' >&2
        printf '       ./installHome [-v] [-n] [-a]\n' >&2
        printf '\nwhere\n' >&2
        printf '   -v or --vim  install Plug for vim\n' >&2
        printf '   -n or --nvim install Plug for neovim\n' >&2
        printf '   -a or --all  install Plug both vim and neovim\n' >&2
        printf '   -h or --help print this message\n' >&2
        ;;
    *)  printf "\nError: Invalid option '%s'\\n" "$1" >&2
        printf "\\n       Run 'bootstrapPlug -h' for help\\n" >&2 
        exit 2
        ;;
  esac
  shift
done

[[ -n $vim_flag ]] &&
  curl -fLo ~/.vim/autoload/plug.vim --create-dirs \
  https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim

[[ -n $neovim_flag ]] &&
  curl -fLo ~/.local/share/nvim/site/autoload/plug.vim --create-dirs \
  https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim

