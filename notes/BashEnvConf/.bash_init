#  Get functions and aliases
#
#    ~/.bash_init
#
#  Configure initial path, environment variables, 
#  aliases and shell functions which you want to be
#  able to change and be inherited, not reset, in 
#  child bash shells.
#
#  This was traditionally done in .bash_profile
#  whenever a login shell was created.  Unfortunately,
#  in most Desktop Environments, the bash shells
#  in terminal emulators inherit not from a login
#  shell, but the POSIX shell scripts which kick off
#  the X-session.  As a result, only ~/.bashrc can
#  be counted on to be consistently run.
#
#  Non-existent path and duplicate path elements
#  will be dealt with near end of script.
#

# shellcheck shell=bash

echo "GRS entering ~/.bash_init"

## Sentinel value to mark completion of initial configuration
#
#  This will not be defined when a display manager is used.
#
export BASH_INIT_SOURCED=bash_init_sourced

## Source /etc/profile if necessary.
#  If ~/bash_profile was not sourced, we are not the
#  descendant of a login shell.  If so, we need to
#  pick up the configurations /etc/profile provides.
#  
if [[ -z $BASH_PROFILE_SOURCED ]]
then
    source /etc/profile
    export BASH_PROFILE_SOURCED=0
fi

## Default file permissions
umask ug=rwx,o=

export EDITOR=vim
export VISUAL=vim

## My e-mail addresses
export ME='geoffrey@scheller.com'
export ME_MIL='geoffrey.scheller.1@us.af.mil'
export ME_GOOGLE='grscheller@gmail.com'

## Set locale so applications (like Python3) display unicode correctly
export LANG=en_US.utf8

## To supercede what comes with the Linux distribution.
PATH=~/local/bin:$PATH

## Python pip configuration
export PIP_REQUIRE_VIRTUALENV=true

## Kerberos utilities for HPCMP access.
PATH=/usr/local/ossh/bin:/usr/local/krb5/bin:$PATH

## For Haskell locally contained and administered via stack
PATH=~/.local/bin:$PATH

## Location Rust Toolchain
PATH=~/.cargo/bin:$PATH

## Locally installed SBT (Scala Build Tool)
PATH=~/opt/sbt/bin:$PATH

## My private utils bin last.
#  Note: Not putting current directory "." on PATH,
#        better security and makes rsync happy.
PATH=$PATH:~/bin

## Clean up PATH - remove duplicate entries
[[ -x ~/bin/pathTrim ]] && PATH=$(~/bin/pathTrim "$PATH")

# system information for ssh configuration in .bashrc
#
#                  Host-Name           port   login      hpc
export    GAUSS17='gauss17             35881  geoff       no'
export   MAXWELL4='maxwell4            29801  geoffrey    no'
export    VOLTRON='rvsllschellerg2        22  schelleg    no'
export EVERGARDEN='rvsllmonetd1           22  schelleg    no'
export      KOALA='rvswlschellerg1        22  schelleg    no'
export     GALAGA='kprswvbylnzjt52        22  schelleg    no'
export      TOPAZ='topaz.erdc.hpc.mil     22  schelleg   yes'
export        UST='us.erdc.hpc.mil        22  schelleg   yes'
export     ZAMBIA='zambia                 22  schelleg    no'

echo "GRS exiting ~/.bash_init"

